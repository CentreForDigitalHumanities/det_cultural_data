<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data exploration toolkit for cultural data: structure, clean, visualize, and run a preliminary analysis - 3&nbsp; Exploring data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../parts/data_analysis/ch3_data_cleaning.html" rel="next">
<link href="../../parts/data_analysis/ch1_reading_data.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../parts/data_analysis/organising_your_data.html">Data Workflow</a></li><li class="breadcrumb-item"><a href="../../parts/data_analysis/ch2_exploring_data.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploring data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Data exploration toolkit for cultural data: structure, clean, visualize, and run a preliminary analysis</a> 
        <div class="sidebar-tools-main">
    <a href="file:///Users/xizg0003/Documents/from_my_passport/Stefano_Home/Documenti/uu_job/workshops/det_cultural_data/docs/index.html" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-git"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/supplements/schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Preparation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/preliminaries/set_up.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setting up</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data Workflow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/data_analysis/organising_your_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organising your data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/data_analysis/ch1_reading_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reading data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/data_analysis/ch2_exploring_data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploring data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/data_analysis/ch3_data_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Cleaning data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/data_analysis/ch4_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Analysing data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/supplements/summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/supplements/what-next.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What’s next?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/supplements/glossaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossaries</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../parts/supplements/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#previous-steps" id="toc-previous-steps" class="nav-link active" data-scroll-target="#previous-steps">Previous steps</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploring data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="previous-steps" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="previous-steps">Previous steps</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>data_file <span class="op">=</span> <span class="st">'data/data.csv'</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(data_file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year of arrival at port of disembarkation</th>
<th data-quarto-table-cell-role="th">Voyage ID</th>
<th data-quarto-table-cell-role="th">Vessel name</th>
<th data-quarto-table-cell-role="th">Voyage itinerary imputed port where began (ptdepimp) place</th>
<th data-quarto-table-cell-role="th">Voyage itinerary imputed principal place of slave purchase (mjbyptimp)</th>
<th data-quarto-table-cell-role="th">Voyage itinerary imputed principal port of slave disembarkation (mjslptimp) place</th>
<th data-quarto-table-cell-role="th">VOYAGEID2</th>
<th data-quarto-table-cell-role="th">Captives arrived at 1st port</th>
<th data-quarto-table-cell-role="th">Captain's name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1714.0</td>
<td>16109</td>
<td>Freeke Gally</td>
<td>Bristol</td>
<td>NaN</td>
<td>Kingston</td>
<td>NaN</td>
<td>283.0</td>
<td>Neale, Alexander</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1713.0</td>
<td>16110</td>
<td>Greyhound Gally</td>
<td>Bristol</td>
<td>NaN</td>
<td>Jamaica, place unspecified</td>
<td>NaN</td>
<td>NaN</td>
<td>Selkirk, Alexander&lt;br/&gt; Forrest, Henry</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1714.0</td>
<td>16111</td>
<td>Jacob</td>
<td>Bristol</td>
<td>NaN</td>
<td>Kingston</td>
<td>NaN</td>
<td>130.0</td>
<td>Nicholls, Philip</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1714.0</td>
<td>16112</td>
<td>Jason Gally</td>
<td>Bristol</td>
<td>NaN</td>
<td>Port Royal</td>
<td>NaN</td>
<td>278.0</td>
<td>Plummer, John</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1713.0</td>
<td>16113</td>
<td>Lawford Gally</td>
<td>Bristol</td>
<td>Africa, port unspecified</td>
<td>Newcastle (Nevis)</td>
<td>NaN</td>
<td>NaN</td>
<td>Stretton, Joseph</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now that we correctly loaded our data in our working environment, it is time to figure out what the data contains. It is always a good idea to look at the dataset <a href="https://www.slavevoyages.org/voyage/about#methodology/introduction/0/en/">documentation</a> (or metadata) to understand where the data comes from, what is the source of all the different records, how data has been collected, and any other possible data related caveat. Diving into the data documentation is up to you, in this chapter what we want to do is understanding as much as we can from the data itself, looking at its columns, rows, and values. <br> Every dataset tells a story. You may think about it like a person with a long experience, but not really willing to talk (well, some datasets “talk” more easily than others). It is your role in this case to “interrogate” the data, let it to talk, to tell a story and to dive into the details of that story, getting as much information as you can. This also depends on how much you need to know: will you be satisfied by a small “chat” or you need to know all kind of details? <br> Let’s formulate some questions to begin with.</p>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="4">
<style>.box {
    border: 1px solid !important;
    border-radius: 5px !important;
    padding: 10px !important;
    margin: 0px 10px 0px 10px !important;
}

.sub-box {
  display: flex !important; 
  flex-direction: row !important; 
  align-items: center !important;
}

.type1 {
    border-color: black;
    background-color: rgb(246, 255, 222); 
}

.type2 {
    border-color: black;
    background-color: rgb(227, 242, 193); 
}

.type3 {
    border-color: black;
    background-color: rgb(201, 219, 178); 
}

.type4 {
    border-color: black;
    background-color: rgb(170, 200, 167); 
}

.type5 {
    border-color: black;
    background-color: rgb(181, 192, 208);
}

.type6 {
    border-color: black;
    background-color: rgb(255, 195, 116);
}

.picture {
    width: 30px; 
    height: 30px;
    margin: 0 0 0px 0;
}

.ctitle {
    margin: 0px 0px 0px 20px;
}</style> 
            <div class="box type1">
                    <div class="sub-box">
                        <img src="myutils/icons/question.png" alt="Icon" class="picture">
                        <div class="ctitle">
                            <u><h4 class="anchored"><strong>Question(s)</strong></h4></u>
                        </div>
                    </div>
                    <div class="sub-box">
                        Question: How big is the data?
                    </div>
            </div>
        
            <div class="box type2">
                <div class="sub-box">
                    <img src="myutils/icons/thinking.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>What to do?</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    Counting the number of rows and columns and checking its size on the disk.
                </div>
            </div>    
        
            <div class="box type3">
                <div class="sub-box">
                    <img src="myutils/icons/tools.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>(Python) Tools</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <code>pandas</code> attribute <code>shape</code>
                </div>            
            </div>    
        
            <div class="box type4">
                <div class="sub-box">
                    <img src="myutils/icons/code_expl.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Coding</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <div>
                        <code>df.shape</code>, the attribute <code>.shape</code> contains the size of the DataFrame expressed in rows and     columns. When printed on the screen it will display two numbers, number of rows and number of columns.
                    </div>       
                </div>
            </div>    
        
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>(36151, 9)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>solution <span class="op">=</span> <span class="st">'Our DataFrame contains data distributed in 36151 rows and 9 columns. '</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>question_box(solution<span class="op">=</span>solution)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<style>.box {
    border: 1px solid !important;
    border-radius: 5px !important;
    padding: 10px !important;
    margin: 0px 10px 0px 10px !important;
}

.sub-box {
  display: flex !important; 
  flex-direction: row !important; 
  align-items: center !important;
}

.type1 {
    border-color: black;
    background-color: rgb(246, 255, 222); 
}

.type2 {
    border-color: black;
    background-color: rgb(227, 242, 193); 
}

.type3 {
    border-color: black;
    background-color: rgb(201, 219, 178); 
}

.type4 {
    border-color: black;
    background-color: rgb(170, 200, 167); 
}

.type5 {
    border-color: black;
    background-color: rgb(181, 192, 208);
}

.type6 {
    border-color: black;
    background-color: rgb(255, 195, 116);
}

.picture {
    width: 30px; 
    height: 30px;
    margin: 0 0 0px 0;
}

.ctitle {
    margin: 0px 0px 0px 20px;
}</style>
            <div class="box type6">
                <div class="sub-box">
                    <img src="myutils/icons/solution.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Answer</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    Our DataFrame contains data distributed in 36151 rows and 9 columns. 
                </div>
            </div>    
        
</div>
</div>
<p>It is a quite big dataset. Shall we care about how big is our dataset? We should as this may affect our analysis. For example, if we implement a scientific analysis that requires 1 second per row to produce an output, such program would take about 10hrs to analyse the entire dataset, and that is something we should keep in mind. That is why, in general, it is a good idea to test large analysis programs on a small sub-set of data and then, once verified that everything runs smoothly, to perform the analysis on the entire dataset.</p>
<p>Let’s continue exploring our DataFrame. We have 9 columns, we saw them displayed in our notebook and, luckily enough, their names are pretty descriptive, therefore, in this case, it is quite intuitive to understand what kind of information they contain. It could be useful to store the column names inside a Python variable and to display their names with a corresponding index (this will be useful later).</p>
<div class="cell" data-execution_count="7">
<div class="cell-output cell-output-display" data-execution_count="7">
<style>.box {
    border: 1px solid !important;
    border-radius: 5px !important;
    padding: 10px !important;
    margin: 0px 10px 0px 10px !important;
}

.sub-box {
  display: flex !important; 
  flex-direction: row !important; 
  align-items: center !important;
}

.type1 {
    border-color: black;
    background-color: rgb(246, 255, 222); 
}

.type2 {
    border-color: black;
    background-color: rgb(227, 242, 193); 
}

.type3 {
    border-color: black;
    background-color: rgb(201, 219, 178); 
}

.type4 {
    border-color: black;
    background-color: rgb(170, 200, 167); 
}

.type5 {
    border-color: black;
    background-color: rgb(181, 192, 208);
}

.type6 {
    border-color: black;
    background-color: rgb(255, 195, 116);
}

.picture {
    width: 30px; 
    height: 30px;
    margin: 0 0 0px 0;
}

.ctitle {
    margin: 0px 0px 0px 20px;
}</style> 
            <div class="box type1">
                    <div class="sub-box">
                        <img src="myutils/icons/task.png" alt="Icon" class="picture">
                        <div class="ctitle">
                            <u><h4 class="anchored"><strong>Task(s)</strong></h4></u>
                        </div>
                    </div>
                    <div class="sub-box">
                        Display the DataFrame column names with an index
                    </div>
            </div>
        
            <div class="box type2">
                <div class="sub-box">
                    <img src="myutils/icons/thinking.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>What to do?</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    Identify column names and assign them an index (starting from zero) depending on their order in the DataFrame (the first column index will be 0, the second 1, and so on).
                </div>
            </div>    
        
            <div class="box type3">
                <div class="sub-box">
                    <img src="myutils/icons/tools.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>(Python) Tools</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <ul><li><code>pandas</code> attribute <code>.columns</code>;</li><li>Python <code>for</code> loop;</li><li>Python function <code>print()</code>.</li></ul>
                </div>            
            </div>    
        
            <div class="box type4">
                <div class="sub-box">
                    <img src="myutils/icons/code_expl.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Coding</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <div>
                        <ul><li><code>column_names = df.columns</code>, the DataFrame attribute <code>.columns</code> contains the column names of our     DataFrame. We store these names into the variable <code>column_names</code>;</li><li><code>print(column_names)</code>, we use the function <code>print()</code> to print on the screen the content of the     variable <code>column_names</code>;</li><li><pre style="display: inline-block; float: left; margin-right: 10px"><code>i=0
print("Index ) Column name")
for name in column_names:
    print(i,")",name)
    i = i + 1</code></pre>, we first initialise (assign a value) to the Python variable <code>i</code>, this will correspond to the first index.     We then print the string "Index) Column name" as a description for what we are going to print later. We finally use a     <code>for</code> loop to scroll the values contained in <code>column_names</code>. What the <code>for</code> loop does     is reading one by one the values stored in <code>column_names</code> and assigning them, one at the time, to the     variable <code>name</code>. It then performs all the instructions "inside" the loop (indented text) and, once all the     instructions are executed, it starts     all over again with the next value in <code>column_names</code> until all the values are explored. In our case, inside     the loop we perform just two operations: 1) we both print the current value of the variables <code>i</code> and     <code>name</code> and 2) we increase the value of <code>i</code> by 1. Why do we increase <code>i</code>? Because we     want to display the different column names according to their position in the DataFrame. Our loop automatically updates     the value of the variable <code>name</code>, but it does not increase by one step the index <code>i</code>, so we have     to do it explicitly.</li></ul>
                    </div>       
                </div>
            </div>    
        
            <div class="box type5">
                <div class="sub-box">
                    <img src="myutils/icons/wiz.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Expert Coding</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <div>
                        <pre style="display: inline-block; margin: 10px 10px; float: left; width: 40%">print("Index) Column name") 
for i,name in enumerate(column_names): 
    print(f"{i}) {name}") </pre>, you can substitute the previous block of code with this, it performs the same tasks (printing indices and column names) with less lines of code
                    </div>  
                </div>
            </div>    
        
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>column_names <span class="op">=</span> df.columns</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(column_names)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>i<span class="op">=</span><span class="dv">0</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Index ) Column name"</span>) </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> name <span class="kw">in</span> column_names: </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i,<span class="st">")"</span>,name) </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    i <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['Year of arrival at port of disembarkation', 'Voyage ID', 'Vessel name',
       'Voyage itinerary imputed port where began (ptdepimp) place',
       'Voyage itinerary imputed principal place of slave purchase (mjbyptimp) ',
       'Voyage itinerary imputed principal port of slave disembarkation (mjslptimp) place',
       'VOYAGEID2', 'Captives arrived at 1st port', 'Captain's name'],
      dtype='object')
Index ) Column name
0 ) Year of arrival at port of disembarkation
1 ) Voyage ID
2 ) Vessel name
3 ) Voyage itinerary imputed port where began (ptdepimp) place
4 ) Voyage itinerary imputed principal place of slave purchase (mjbyptimp) 
5 ) Voyage itinerary imputed principal port of slave disembarkation (mjslptimp) place
6 ) VOYAGEID2
7 ) Captives arrived at 1st port
8 ) Captain's name</code></pre>
</div>
</div>
<p>Now we have the column names nicely listed from top to bottom and with their corresponding index assigned to them. You might be tempted to start the indexing from 1, but as in Python the first element of a list (or any other series of elements) has index 0, we started counting from zero. You can obtain the same result with less lines of code, try it out!</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Index) Column name"</span>) </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i,name <span class="kw">in</span> <span class="bu">enumerate</span>(column_names): </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">) </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index) Column name
0) Year of arrival at port of disembarkation
1) Voyage ID
2) Vessel name
3) Voyage itinerary imputed port where began (ptdepimp) place
4) Voyage itinerary imputed principal place of slave purchase (mjbyptimp) 
5) Voyage itinerary imputed principal port of slave disembarkation (mjslptimp) place
6) VOYAGEID2
7) Captives arrived at 1st port
8) Captain's name</code></pre>
</div>
</div>
<p>It is now time to figure out what are the rows about. Looking at the column names, we notice that the second one (index 1) is called “Voyage ID”. This indicates that this column contains a specific identifier for the ship voyage, implying that each row contains specific information about a single trip. To verify that each row corresponds to a single voyage, we need to check if all the values of the Voyage ID column are different, i.e.&nbsp;if they are unique.<br></p>
<div class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="10">
<style>.box {
    border: 1px solid !important;
    border-radius: 5px !important;
    padding: 10px !important;
    margin: 0px 10px 0px 10px !important;
}

.sub-box {
  display: flex !important; 
  flex-direction: row !important; 
  align-items: center !important;
}

.type1 {
    border-color: black;
    background-color: rgb(246, 255, 222); 
}

.type2 {
    border-color: black;
    background-color: rgb(227, 242, 193); 
}

.type3 {
    border-color: black;
    background-color: rgb(201, 219, 178); 
}

.type4 {
    border-color: black;
    background-color: rgb(170, 200, 167); 
}

.type5 {
    border-color: black;
    background-color: rgb(181, 192, 208);
}

.type6 {
    border-color: black;
    background-color: rgb(255, 195, 116);
}

.picture {
    width: 30px; 
    height: 30px;
    margin: 0 0 0px 0;
}

.ctitle {
    margin: 0px 0px 0px 20px;
}</style> 
            <div class="box type1">
                    <div class="sub-box">
                        <img src="myutils/icons/question.png" alt="Icon" class="picture">
                        <div class="ctitle">
                            <u><h4 class="anchored"><strong>Question(s)</strong></h4></u>
                        </div>
                    </div>
                    <div class="sub-box">
                        Are the values of the Voyage ID column unique?
                    </div>
            </div>
        
            <div class="box type2">
                <div class="sub-box">
                    <img src="myutils/icons/thinking.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>What to do?</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    Select the column Voyage ID, go through all its 36151 values and check if there are repetitions.
                </div>
            </div>    
        
            <div class="box type3">
                <div class="sub-box">
                    <img src="myutils/icons/tools.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>(Python) Tools</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <ul><li><code>pandas</code> column selector method <code>.iloc[]</code>;</li><li><code>pandas</code> attribute <code>.is_unique</code>;</li><li>Python function <code>print()</code></li></ul>
                </div>            
            </div>    
        
            <div class="box type4">
                <div class="sub-box">
                    <img src="myutils/icons/code_expl.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Coding</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <div>
                        <ul><li><code>voyage_id = df.iloc[:,1]</code>, we apply the method <code>.iloc[]</code> to select the second column     of our DataFrame and store it in the variable <code>voyage_id</code>. Inside the square brackets of <code>.iloc[]</code>     we can specify rows an columns to select in the form <code>[selected_rows,selected_columns]</code>. In this case,     <code>:</code> means that we select ALL the rows, so <code>df.iloc[:,1]</code> selects all the rows of the column     with index 1 (second column)</li><li><code>print(voyage_id.is_unique)</code>, we print on the screen the <code>pandas</code> attribute <code>.is_unique</code>.     This attribute is True if, indeed, all the values of <code>voyage_id</code> are unique, False otherwise.</li></ul>
                    </div>       
                </div>
            </div>    
        
            <div class="box type5">
                <div class="sub-box">
                    <img src="myutils/icons/wiz.png" alt="Icon" class="picture">
                    <div class="ctitle">
                        <u><h4 class="anchored"><strong>Expert Coding</strong></h4></u>
                    </div>
                </div>
                <div class="sub-box">
                    <div>
                        <ul><li><code>print(df.iloc[:,1].is_unique)</code>, methods, attributes, and functions can be applied one after another     in a single line of code.</li></ul>
                    </div>  
                </div>
            </div>    
        
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>voyage_id <span class="op">=</span> df.iloc[:,<span class="dv">1</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(voyage_id.is_unique)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
</div>
<p>We verified that all the values of the Voyage ID column are unique, this means that each of the rows of our DataFrame refers to a single ship voyage. Looking at the other columns, we also notice that information where the voyage began, the port where slaves have been purchased, and the port where slaves have been desembarked is provided.<br> Looking in particular at the fifth column (index 4, “Voyage itinerary imputed principal place of slave purchase”), we notice it contains several NaNs. NaN stands for “Not a Number”, it is a value that appears when something goes wrong in one of the processes ran by our program. If something went wrong, why did not our program stop or told us something about an occuring problem? Because problems may happen more often than you think and if our program stops working everytime it encounters a situation it cannot handle, it would most probably never finish running! In this case, most probably the record does not exist so the data set cell has been filled by NaN, either in our original .csv file or by the <code>pandas</code> method <code>.read_csv()</code>. NaN are not necesseraly something bad, as they can be easily identified and eventually corrected (or simply ignored). Incorrect or missing data may be much harder to spot and correct. <br> In any case, the presence of NaNs or any other missing value can severely affect our data analysis, for this reason before starting analysing the data we need to find and get rid of those values. This process is usually called “data cleaning” and that is exactly what we are going to do in the next chapter.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../parts/data_analysis/ch1_reading_data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reading data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../parts/data_analysis/ch3_data_cleaning.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Cleaning data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>